CREATE TABLE Actuacion (
  id                SERIAL NOT NULL,
  actuacion         varchar(255) NOT NULL,
  anotacion         varchar(255) NOT NULL,
  fechaActuacion    date NOT NULL,
  fechaRegistro     date NOT NULL,
  documento         bytea,
  existeDoc         bool NOT NULL,
  Procesoid         int4 NOT NULL,
  EstadoActuacionid int4 NOT NULL,
  PRIMARY KEY (id));
CREATE TABLE Audiencia (
  id        SERIAL NOT NULL,
  enlace    varchar(255) NOT NULL,
  Procesoid int4 NOT NULL,
  PRIMARY KEY (id));
CREATE TABLE Despacho (
  id            SERIAL NOT NULL,
  nombre        varchar(255) NOT NULL,
  url           varchar(255),
  fechaConsulta date,
  PRIMARY KEY (id));
CREATE TABLE Empleado (
  id        SERIAL NOT NULL,
  Usuarioid int4 NOT NULL UNIQUE,
  Firmaid   int4 NOT NULL,
  PRIMARY KEY (id));
CREATE TABLE EspecialidadAbogado (
  id            SERIAL NOT NULL,
  Usuarioid     int4 NOT NULL,
  TipoAbogadoid int4 NOT NULL,
  PRIMARY KEY (id),
  CONSTRAINT unique_especialidad
    UNIQUE (Usuarioid, TipoAbogadoid));
CREATE TABLE EstadoActuacion (
  id     SERIAL NOT NULL,
  nombre varchar(255) NOT NULL UNIQUE,
  PRIMARY KEY (id));
CREATE TABLE EstadoProceso (
  id     SERIAL NOT NULL,
  nombre varchar(255) NOT NULL UNIQUE,
  PRIMARY KEY (id));
CREATE TABLE Firma (
  id        SERIAL NOT NULL,
  nombre    varchar(255) NOT NULL,
  direccion varchar(255) NOT NULL UNIQUE,
  PRIMARY KEY (id));
CREATE TABLE Proceso (
  id                  SERIAL NOT NULL,
  radicado            int8 NOT NULL UNIQUE,
  numeroProceso       int8 NOT NULL UNIQUE,
  demandado           varchar(255) NOT NULL,
  demandante          varchar(255) NOT NULL,
  fechaRadicado       date NOT NULL,
  UbicacionExpediente varchar(255) NOT NULL,
  eliminado           char(255) NOT NULL,
  Firmaid             int4 NOT NULL,
  Despachoid          int4 NOT NULL,
  TipoProcesoid       int4 NOT NULL,
  EstadoProcesoid     int4 NOT NULL,
  PRIMARY KEY (id));
CREATE TABLE RegistroCorreo (
  id     SERIAL NOT NULL,
  correo varchar(255) NOT NULL,
  fecha  time(6) NOT NULL,
  PRIMARY KEY (id));
CREATE TABLE Rol (
  id     SERIAL NOT NULL,
  nombre varchar(255) NOT NULL UNIQUE,
  PRIMARY KEY (id));
CREATE TABLE TipoAbogado (
  id     SERIAL NOT NULL,
  nombre int4 NOT NULL UNIQUE,
  PRIMARY KEY (id));
CREATE TABLE TipoDocumento (
  id     SERIAL NOT NULL,
  nombre varchar(255) NOT NULL UNIQUE,
  PRIMARY KEY (id));
CREATE TABLE TipoProceso (
  id     SERIAL NOT NULL,
  nombre varchar(255) NOT NULL UNIQUE,
  PRIMARY KEY (id));
CREATE TABLE Usuario (
  id              SERIAL NOT NULL,
  username        varchar(255) NOT NULL UNIQUE,
  password        varchar(255) NOT NULL,
  telefono        int8 NOT NULL UNIQUE,
  identificacion  int8 NOT NULL UNIQUE,
  nombres         varchar(255) NOT NULL,
  correo          varchar(255) NOT NULL UNIQUE,
  img             bytea,
  Rolid           int4 NOT NULL,
  TipoDocumentoid int4 NOT NULL,
  PRIMARY KEY (id));
ALTER TABLE Usuario ADD CONSTRAINT FKUsuario38509 FOREIGN KEY (Rolid) REFERENCES Rol (id);
ALTER TABLE Usuario ADD CONSTRAINT FKUsuario402097 FOREIGN KEY (TipoDocumentoid) REFERENCES TipoDocumento (id);
ALTER TABLE Proceso ADD CONSTRAINT FKProceso509633 FOREIGN KEY (Firmaid) REFERENCES Firma (id);
ALTER TABLE Proceso ADD CONSTRAINT FKProceso755533 FOREIGN KEY (Despachoid) REFERENCES Despacho (id);
ALTER TABLE Proceso ADD CONSTRAINT FKProceso835498 FOREIGN KEY (TipoProcesoid) REFERENCES TipoProceso (id);
ALTER TABLE Proceso ADD CONSTRAINT FKProceso481105 FOREIGN KEY (EstadoProcesoid) REFERENCES EstadoProceso (id);
ALTER TABLE Actuacion ADD CONSTRAINT FKActuacion941828 FOREIGN KEY (Procesoid) REFERENCES Proceso (id);
ALTER TABLE Actuacion ADD CONSTRAINT FKActuacion76898 FOREIGN KEY (EstadoActuacionid) REFERENCES EstadoActuacion (id);
ALTER TABLE Audiencia ADD CONSTRAINT FKAudiencia65438 FOREIGN KEY (Procesoid) REFERENCES Proceso (id);
ALTER TABLE Empleado ADD CONSTRAINT FKEmpleado820624 FOREIGN KEY (Usuarioid) REFERENCES Usuario (id);
ALTER TABLE Empleado ADD CONSTRAINT FKEmpleado120068 FOREIGN KEY (Firmaid) REFERENCES Firma (id);
ALTER TABLE EspecialidadAbogado ADD CONSTRAINT FKEspecialid398188 FOREIGN KEY (Usuarioid) REFERENCES Usuario (id);
ALTER TABLE EspecialidadAbogado ADD CONSTRAINT FKEspecialid308023 FOREIGN KEY (TipoAbogadoid) REFERENCES TipoAbogado (id);
